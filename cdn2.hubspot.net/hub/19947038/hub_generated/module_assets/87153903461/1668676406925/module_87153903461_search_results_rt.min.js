var module_87153903461=function(){var __hs_messages={};i18n_getmessage=function(){return hs_i18n_getMessage(__hs_messages,hsVars.language,arguments)},i18n_getlanguage=function(){return hsVars.language};var hsResultsPage=function(_resultsClass){function buildResultsPage(_instance){var resultTemplate=_instance.querySelector(".hs-search-results__template"),resultsSection=_instance.querySelector(".hs-search-results__listing"),searchPath=_instance.querySelector(".hs-search-results__pagination").getAttribute("data-search-path"),prevLink=_instance.querySelector(".hs-search-results__prev-page"),nextLink=_instance.querySelector(".hs-search-results__next-page"),searchParams=new URLSearchParams(window.location.search.slice(1));function getTerm(){return searchParams.get("term")||""}function fillResults(results){results.results.forEach((function(result,i){var title,url,description,featuredImage,newResult;title=result.title,url=result.url,description=result.description,featuredImage=result.featuredImageUrl,(newResult=document.importNode(resultTemplate.content,!0)).querySelector(".hs-search-results__title").innerHTML=title,newResult.querySelector(".hs-search-results__title").href=url,newResult.querySelector(".hs-search-results__description").innerHTML=description,void 0!==featuredImage&&function(){if(newResult.querySelector(".hs-search-results__featured-image > img"))return!0}()&&(newResult.querySelector(".hs-search-results__featured-image > img").src=featuredImage),resultsSection.appendChild(newResult)}))}function emptyPagination(){prevLink.innerHTML="",nextLink.innerHTML=""}function httpRequest(term,offset){var requestUrl="/_hcms/search?"+searchParams+"&analytics=true",request=new XMLHttpRequest;request.open("GET",requestUrl,!0),request.onload=function(){if(request.status>=200&&request.status<400){var data=JSON.parse(request.responseText);searchedTerm=data.searchTerm,searchBars=document.querySelectorAll(".hs-search-field__input"),Array.prototype.forEach.call(searchBars,(function(el){el.value=searchedTerm})),data.total>0?(fillResults(data),function(results){var updatedLimit=parseInt(searchParams.get("limit"))||results.limit;function hasPreviousPage(){return results.page>0}function hasNextPage(){return results.offset<=results.total-updatedLimit}if(hasPreviousPage()){var prevParams=new URLSearchParams(searchParams.toString());prevParams.set("offset",results.page*updatedLimit-parseInt(updatedLimit)),prevLink.href="/"+searchPath+"?"+prevParams,prevLink.innerHTML="&lt; Previous page"}else prevLink.parentNode.removeChild(prevLink);if(hasNextPage()){var nextParams=new URLSearchParams(searchParams.toString());nextParams.set("offset",results.page*updatedLimit+parseInt(updatedLimit)),nextLink.href="/"+searchPath+"?"+nextParams,nextLink.innerHTML="Next page &gt;"}else nextLink.parentNode.removeChild(nextLink)}(data)):(!function(searchedTerm){resultsSection.innerHTML='<div class="hs-search__no-results"><p>Sorry. There are no results for "'+searchedTerm+'"</p><p>Try rewording your query, or browse through our site.</p></div>'}(data.searchTerm),emptyPagination())}else console.error("Server reached, error retrieving results.");var searchedTerm,searchBars},request.onerror=function(){console.error("Could not reach the server.")},request.send()}getTerm()?httpRequest(getTerm(),parseInt(searchParams.get("offset"))):emptyPagination()}var searchResults;searchResults=document.querySelectorAll(_resultsClass),Array.prototype.forEach.call(searchResults,(function(el){buildResultsPage(el)}))};if(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)hsResultsPage("div.hs-search-results");else document.addEventListener("DOMContentLoaded",(function(){hsResultsPage("div.hs-search-results")}))}();